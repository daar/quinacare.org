---
import {
  getLangFromUrl,
  useTranslations,
  getLocalizedPath,
  type Lang,
} from "../i18n";

interface Props {
  lang?: Lang;
}

const lang = Astro.props.lang ?? getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section class="py-24 max-w-7xl mx-auto px-6">
  <div class="flex justify-between items-end mb-16">
    <h2 class="text-3xl font-bold uppercase tracking-tighter">
      {t("homeNews.title")}
      <span class="text-qcRed italic underline decoration-1 underline-offset-8"
        >{t("homeNews.subtitle")}</span
      >
    </h2>
    <a
      href={getLocalizedPath("/news", lang)}
      class="text-sm font-bold border-b border-qcBlack hover:text-qcRed hover:border-qcRed transition"
      >{t("homeNews.allPosts")}</a
    >
  </div>

  <div class="grid md:grid-cols-3 gap-12">
    <article class="group cursor-pointer">
      <div
        class="aspect-video mb-6 overflow-hidden bg-gray-100 rounded-md relative"
      >
        <div class="absolute top-3 left-3 z-10">
          <span
            class="bg-white/90 backdrop-blur-sm text-qcBlack text-[9px] font-bold uppercase tracking-widest px-2.5 py-1 rounded shadow-sm border border-gray-100"
          >
            {t("homeNews.medical")}
          </span>
        </div>
        <img
          src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&q=80&w=600"
          class="w-full h-full object-cover group-hover:scale-105 transition duration-500"
        />
      </div>

      <div
        class="flex items-center gap-3 text-[10px] uppercase tracking-wider text-gray-400 mb-3"
      >
        <span class="font-bold text-qcBlack">Dr. Maria Silva</span>
        <span class="w-1 h-1 rounded-full bg-gray-300"></span>
        <span>24 Jan 2024</span>
        <span class="w-1 h-1 rounded-full bg-gray-300"></span>
        <div class="flex items-center gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-3 w-3"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span>4 min</span>
        </div>
      </div>

      <h3
        class="text-xl font-bold group-hover:text-qcRed transition leading-tight"
      >
        Nieuwe echo-apparatuur
      </h3>
      <p class="text-gray-500 text-sm mt-4 line-clamp-2">
        Mijlpaal: Verbeterde zorg voor aanstaande moeders in afgelegen dorpen...
      </p>
    </article>

    <article class="group cursor-pointer">
      <div
        class="aspect-video mb-6 overflow-hidden bg-gray-100 rounded-md relative"
      >
        <div class="absolute top-3 left-3 z-10">
          <span
            class="bg-white/90 backdrop-blur-sm text-qcBlack text-[9px] font-bold uppercase tracking-widest px-2.5 py-1 rounded shadow-sm border border-gray-100"
          >
            {t("homeNews.impact")}
          </span>
        </div>
        <img
          src="https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?auto=format&fit=crop&q=80&w=600"
          class="w-full h-full object-cover group-hover:scale-105 transition duration-500"
        />
      </div>

      <div
        class="flex items-center gap-3 text-[10px] uppercase tracking-wider text-gray-400 mb-3"
      >
        <span class="font-bold text-qcBlack">Bestuur QC</span>
        <span class="w-1 h-1 rounded-full bg-gray-300"></span>
        <span>18 Jan 2024</span>
        <span class="w-1 h-1 rounded-full bg-gray-300"></span>
        <div class="flex items-center gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-3 w-3"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span>6 min</span>
        </div>
      </div>

      <h3
        class="text-xl font-bold group-hover:text-qcRed transition leading-tight"
      >
        Jaarverslag 2025
      </h3>
      <p class="text-gray-500 text-sm mt-4 line-clamp-2">
        100% transparantie: Hoe uw bijdrage direct levens heeft gered...
      </p>
    </article>

    <article class="group cursor-pointer">
      <div
        class="aspect-video mb-6 overflow-hidden bg-gray-100 rounded-md relative"
      >
        <div class="absolute top-3 left-3 z-10">
          <span
            class="bg-qcRed text-white text-[9px] font-bold uppercase tracking-widest px-2.5 py-1 rounded shadow-sm"
          >
            {t("homeNews.vacancy")}
          </span>
        </div>
        <img
          src="https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?auto=format&fit=crop&q=80&w=600"
          class="w-full h-full object-cover group-hover:scale-105 transition duration-500"
        />
      </div>

      <div
        class="flex items-center gap-3 text-[10px] uppercase tracking-wider text-gray-400 mb-3"
      >
        <span class="font-bold text-qcBlack">HR Team</span>
        <span class="w-1 h-1 rounded-full bg-gray-300"></span>
        <span>12 Jan 2024</span>
        <span class="w-1 h-1 rounded-full bg-gray-300"></span>
        <div class="flex items-center gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-3 w-3"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span>3 min</span>
        </div>
      </div>

      <h3
        class="text-xl font-bold group-hover:text-qcRed transition leading-tight"
      >
        Vacature: Medisch Coordinator
      </h3>
      <p class="text-gray-500 text-sm mt-4 line-clamp-2">
        Wil jij het verschil maken op de grond in Ecuador? Wij zoeken jou...
      </p>
    </article>
  </div>
</section>
