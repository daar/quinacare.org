---
import { getLangFromUrl, useTranslations, type Lang } from '../i18n';

interface Props {
  lang?: Lang;
}

const lang = Astro.props.lang ?? getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section class="relative bg-qcRed py-24 overflow-hidden font-arimo">
  <div class="absolute inset-0 opacity-10 pointer-events-none">
    <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
      <path d="M0 100 L100 0 L100 100 Z" fill="black"></path>
    </svg>
  </div>

  <div class="max-w-7xl mx-auto px-6 relative z-10">
    <div class="flex flex-col lg:flex-row items-center justify-between gap-12">
      <div class="text-white text-center lg:text-left">
        <span class="text-[11px] font-bold uppercase tracking-[0.4em] opacity-80 block mb-4">{t('cta.label')}</span>
        <h2 class="text-4xl md:text-6xl font-bold tracking-tighter uppercase leading-[0.9] mb-6">
          {t('cta.title1')} <br><span class="italic font-black text-qcBlack">{t('cta.title2')}</span>
        </h2>
        <p class="text-red-100 text-lg max-w-md font-light">
          {t('cta.subtitle')}
        </p>
      </div>

      <div class="flex-shrink-0">
        <a href="#donate" class="group relative inline-flex items-center gap-6 bg-white text-qcRed px-10 py-6 font-bold text-xs uppercase tracking-[0.3em] hover:bg-qcBlack hover:text-white transition-all duration-500 shadow-2xl shadow-red-900/20 rounded-md">
          <i class="fa-solid fa-heart transition-transform group-hover:scale-125"></i>
          <span>{t('cta.donate')}</span>
        </a>

        <div class="mt-4 flex items-center justify-center lg:justify-start gap-4 text-red-200 text-[9px] font-bold uppercase tracking-widest opacity-70">
          <span class="flex items-center gap-1"><i class="fa-solid fa-shield-check"></i> {t('cta.securePayment')}</span>
          <span class="flex items-center gap-1"><i class="fa-solid fa-certificate"></i> {t('cta.certified')}</span>
        </div>
      </div>
    </div>
  </div>
</section>
